<div class="app-header">
    <div class="app-title">
        <div class="title">R4Everyone</div>
        <div class="subtitle">@Subtitle</div>
    </div>
    <div class="app-logo">
        <img src="icon-192.png" alt="R4E Logo" style="height: 64px; width: 64px;"/>
    </div>
    <div class="app-status">
        @if (IsDirty)
        {
            <span class="badge text-bg-warning">Unsaved changes</span>
        }
        @if (!IsValid)
        {
            <span class="badge text-bg-danger">@ValidationBadgeText</span>
        }
        else
        {
            <span class="badge text-bg-success">Valid</span>
        }
    </div>
</div>

@code {
    [Parameter] public string? FileName { get; set; }
    [Parameter] public bool HasLoadedFile { get; set; }
    [Parameter] public bool IsDirty { get; set; }
    [Parameter] public bool IsValid { get; set; }
    [Parameter] public IReadOnlyList<string> Errors { get; set; } = [];

    private string Subtitle => HasLoadedFile ? $"File: {FileName}" : "No file loaded";

    private string ValidationBadgeText => $"{Errors.Count} errors";
}
